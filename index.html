<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ ¼é—˜æŠ€VODã¾ã¨ã‚ãƒãƒ¼ã‚¿ãƒ«</title>
  <!-- Bootstrap CSS CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
  <div class="container my-4">
    <h1 class="text-center mb-4 text-danger">æ ¼é—˜æŠ€VODã¾ã¨ã‚ãƒãƒ¼ã‚¿ãƒ«</h1>

    <!-- ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆã‚«ãƒ¼ãƒ‰è¡¨ç¤º -->
    <div class="mb-4">
      <div class="card border-danger">
        <div class="card-body">
          <h5 class="card-title text-danger">ğŸ”¥ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ•°No1ï¼ã€ABEMAãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã€‘</h5>
          <p class="card-text">è©¦åˆã®è¦‹é€ƒã—é…ä¿¡ã‚„éå»ã®å¤§ä¼šã‚‚è¦–è´å¯èƒ½ï¼</p>
          <a href="https://px.a8.net/svt/ejp?a8mat=45BP2Y+AOM2CA+4EKC+60OXE" target="_blank" rel="nofollow noopener noreferrer" class="btn btn-danger">è©³ã—ãè¦‹ã‚‹</a>
        </div>
      </div>

      <div class="card border-primary mt-3">
        <div class="card-body">
          <h5 class="card-title text-primary">U-NEXTã§æ ¼é—˜æŠ€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ã‚¿ãƒªãƒ¼è¦–è´</h5>
          <p class="card-text">è¦‹æ”¾é¡Œä½œå“ãŒå……å®Ÿï¼31æ—¥é–“ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«å®Ÿæ–½ä¸­ã€‚</p>
          <a href="https://px.a8.net/svt/ejp?a8mat=45BP2Y+AOM2CA+4EKC+63OY9" target="_blank" rel="nofollow noopener noreferrer" class="btn btn-primary">è©³ã—ãè¦‹ã‚‹</a>
        </div>
      </div>
    </div>

    <div id="newsAccordion" class="accordion"></div>

    <div id="loading" class="text-center text-muted">èª­ã¿è¾¼ã¿ä¸­...</div>
  </div>

  <!-- Bootstrap JS Bundle (Popperä»˜ã) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    const RSS_URL = 'https://www.nikkansports.com/battle/atom.xml';
    const API_URL = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(RSS_URL)}`;

    const newsAccordion = document.getElementById('newsAccordion');
    const loading = document.getElementById('loading');

    fetch(API_URL)
      .then(res => res.json())
      .then(data => {
        loading.style.display = 'none';

        data.items.slice(0, 10).forEach((item, index) => {
          const pubDate = new Date(item.pubDate).toLocaleDateString('ja-JP', {
            year: 'numeric',
            month: 'short',
            day: 'numeric'
          });

          const accordionItem = document.createElement('div');
          accordionItem.className = 'accordion-item';

          const headerId = `heading${index}`;
          const collapseId = `collapse${index}`;

          accordionItem.innerHTML = `
            <h2 class="accordion-header" id="${headerId}">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#${collapseId}" aria-expanded="false" aria-controls="${collapseId}">
                ${item.title} <small class="text-muted ms-2">(${pubDate})</small>
              </button>
            </h2>
            <div id="${collapseId}" class="accordion-collapse collapse" aria-labelledby="${headerId}" data-bs-parent="#newsAccordion">
              <div class="accordion-body">
                ${item.contentSnippet ? item.contentSnippet : ''}
                <br><a href="${item.link}" target="_blank" rel="noopener noreferrer nofollow">è¨˜äº‹ã‚’èª­ã‚€ &raquo;</a>
              </div>
            </div>
          `;

          newsAccordion.appendChild(accordionItem);
        });
      })
      .catch(err => {
        loading.textContent = 'ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚';
        console.error(err);
      });
  </script>
</body>
</html>
